<header class="admin-header">
    <div class="header-left">
        <button class="sidebar-toggle" id="sidebarToggle" onclick="toggleSidebar()">
            <i class="fas fa-bars"></i>
        </button>
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb mb-0">
                <li class="breadcrumb-item"><a href="/admin/dashboard"><i class="fas fa-home"></i></a></li>
                <li class="breadcrumb-item active"><%= typeof title !== 'undefined' ? title.replace(' - Admin', '').replace(' - Lost & Found', '') : 'Dashboard' %></li>
            </ol>
        </nav>
    </div>
    <div class="header-right">
        <button class="dark-mode-toggle" onclick="toggleAdminDarkMode()" title="Toggle Dark Mode">
            <i class="fas fa-moon" id="adminDarkModeIcon"></i>
        </button>
        <a href="/" target="_blank" class="btn btn-sm btn-secondary">
            <i class="fas fa-globe"></i> View Site
        </a>
        <div class="dropdown">
            <button class="user-dropdown dropdown-toggle" type="button" data-bs-toggle="dropdown">
                <i class="fas fa-user-circle"></i>
                <span><%= admin.username %></span>
            </button>
            <ul class="dropdown-menu dropdown-menu-end">
                <li><span class="dropdown-item"><i class="fas fa-shield-alt"></i> Administrator</span></li>
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item text-danger" href="/admin/logout"><i class="fas fa-sign-out-alt"></i> Sign Out</a></li>
            </ul>
        </div>
    </div>
</header>

<script>
function toggleSidebar() {
    document.getElementById('adminSidebar').classList.toggle('show');
    document.getElementById('sidebarOverlay').classList.toggle('show');
}

// Admin Dark Mode
function toggleAdminDarkMode() {
    document.body.classList.toggle('dark-mode');
    const isDark = document.body.classList.contains('dark-mode');
    localStorage.setItem('adminDarkMode', isDark);
    updateAdminDarkModeIcon(isDark);
}

function updateAdminDarkModeIcon(isDark) {
    const icon = document.getElementById('adminDarkModeIcon');
    if (icon) {
        icon.className = isDark ? 'fas fa-sun' : 'fas fa-moon';
    }
}

// Check for saved preference on page load
document.addEventListener('DOMContentLoaded', function() {
    const savedDarkMode = localStorage.getItem('adminDarkMode') === 'true';
    if (savedDarkMode) {
        document.body.classList.add('dark-mode');
        updateAdminDarkModeIcon(true);
    }
});
</script>
